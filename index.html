<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Folclore Brasileiro</title>
    <meta name="description" content="Portal sobre o folclore e a história do Brasil: lendas, mitos e memória cultural.">
    <link rel="stylesheet" href="assets/style.css">
    <!-- ADDED: estilos rápidos para o menu Games -->
    <style>
        /* dropdown games */
        .nav-games { position: relative; }
        
        /* Estilo para o nome da escola no canto direito */
        nav ul {
            display: flex;
            justify-content: flex-start;
            align-items: flex-start;
        }
        .school-name {
            margin-left: auto;
            font-weight: 700;
            color: #fff;
            padding: 8px 12px;
            white-space: nowrap;
        }
        
        #games-button {
            background: linear-gradient(45deg, #F2B33D, #F29727);
            color: #401201;
            border: none;
            padding: 8px 12px;
            border-radius: 999px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(242,179,61,0.18);
        }
        #games-menu {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            background: rgba(10,5,2,0.98);
            border: 1px solid rgba(242,179,61,0.12);
            border-radius: 29px;
            padding: 8px;
            min-width: 260px;
            display: none;
            flex-direction: column;
            gap: 6px;
            box-shadow: 0 12px 32px rgba(0,0,0,0.6);
            z-index: 200;
        }
        #games-menu a {
            display: block;
            padding: 8px 10px;
            color: var(--light);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 700;
        }
        #games-menu a:hover, #games-menu a:focus {
            background: rgba(242,179,61,0.08);
            color: var(--gold);
            outline: none;
        }
        #games-menu[aria-hidden="false"] { display: flex; }
        /* responsivo */
        @media (max-width:640px){
            #games-menu { right: 0; left: auto; min-width: 180px; }
            .school-name { display: none; } /* Esconde o nome da escola em telas pequenas */
        }

        /* NOVO: Estilo do painel com imagem ao lado do texto */
        .timeline-panel {
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        .timeline-panel img {
            width: 180px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            flex-shrink: 0;
        }
        .timeline-panel .text-content {
            flex: 1;
            min-width: 280px;
        }
        .timeline-panel .text-content h3 {
            margin: 0 0 0.5rem;
            font-size: 1.4rem;
            color: var(--gold);
        }
        .timeline-panel .text-content p {
            margin: 0;
            line-height: 1.6;
        }
        @media (max-width: 640px) {
            .timeline-panel {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            .timeline-panel img {
                width: 100%;
                max-width: 300px;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Navegação principal (movida para o topo) -->
    <nav aria-label="Navegação principal - Colégio Campina da Lagoa">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="#history">História</a></li>
            <li><a href="folclore-afro.html">Folclore</a></li>

            <!-- CHANGED: Games dropdown -->
            <li class="nav-games">
                <button id="games-button" aria-haspopup="true" aria-expanded="false">Games!</button>
                <ul id="games-menu" role="menu" aria-hidden="true">
                    <li role="none"><a role="menuitem" href="vitoria_8c.html">RITMOS ANCESTRAIS 8°C</a></li>
                    <li role="none"><a role="menuitem" href="jogo1.html">EM CONSTRUÇÃO 8ºB</a></li>
                    <li role="none"><a role="menuitem" href="culinaria.html">QUIZ CULINÁRIO 8ºB</a></li>
                    <li role="none"><a role="menuitem" href="maracatu-memory.html">EM CONSTRUÇÃO 8ºA</a></li>
                </ul>
            </li>
            
            <!-- Nome da escola no canto direito -->
            <li class="school-name">Colégio Campina da Lagoa</li>
        </ul>
    </nav>
    
    <header>
        <div class="banner">
            <figure>
                <img class="header-image" src="assets/images/header.png" alt="Imagem de cabeçalho representando a cultura brasileira" loading="lazy">

                <div class="header-overlay" role="region" aria-label="Cultura Afro / Aṣà Áfríkà" tabindex="0">
                    <span class="overlay-text lang-pt">Cultura Afro</span>
                    <span class="overlay-text lang-yo" aria-hidden="true">Aṣà Áfríkà</span>
                </div>
            </figure>
         </div>
     </header>
    
    <main id="main">
        <p class="lead">Explore marcos históricos e a influência do patrimônio afro‑brasileiro e do folclore afro no Brasil. Clique em uma data para ver o acontecimento.</p>

        <!-- Linha do tempo -->
        <section class="timeline" aria-label="Linha do tempo histórica">
            <div class="timeline-track" role="listbox" aria-label="Anos importantes">
                <button class="timeline-item" role="option" aria-pressed="false" data-year="1500" data-title="Chegada dos portugueses">1500</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="1530" data-title="Início do tráfico de africanos">1530</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="1808" data-title="Formação do quilombo dos palmares">1600</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="1888" data-title="Execução de Zumbi – Dia da Consciência Negra">1695</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="1930" data-title="Irmandades Negras (Rosário, Boa Morte)">1700</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="1960" data-title="Pico do tráfico banto (Angola/Moçambique)">1807-1835</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2000" data-title="Origem do carnaval afro em Bahia e RJ">1830</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2010" data-title="Lei Áurea – Abolição da Escravatura">1888</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2020" data-title="Frente Negra Brasileira (FNB)">1931</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2030" data-title="Capoeira reconhecida como esporte nacional">1953</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2030" data-title="Blocos afros: Ilê Aiyê e Olodum">1970</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2030" data-title="Ensino obrigatório de cultura afro">2003</button>
                <button class="timeline-item" role="option" aria-pressed="false" data-year="2030" data-title="20 de novembro - feriado nacional">2023</button>
            </div>

            <!-- Painel com imagem ao lado do texto -->
            <div class="timeline-panel" aria-live="polite" aria-atomic="true">
                <img id="timeline-image" src="" alt="" loading="lazy" style="display:none;">
                <div class="text-content">
                    <h3 id="timeline-title">Selecione uma data</h3>
                    <p id="timeline-desc">Clique em uma data na linha do tempo para ver o acontecimento correspondente.</p>
                </div>
            </div>
        </section>
    </main>
    
    <section id="history">
        <h2>História</h2>
        <p>Placeholder para a seção de História. Aqui virão detalhes sobre a colonização e miscigenação.</p>
    </section>
    
    <!--<section id="folklore">
        <h2>Folclore</h2>
        <p>Placeholder para a seção de Folclore. Aqui virão lendas e mitos brasileiros.</p>
    </section>-->
    
    <footer>
        <p>© <span id="year">2025</span> Folclore Brasileiro. Todos os direitos reservados.</p>
    </footer>

    <!-- Script principal -->
    <script src="assets/js/main.js" defer></script>
    <!-- Script do menu Games -->
    <script>
        (function(){
            const btn = document.getElementById('games-button');
            const menu = document.getElementById('games-menu');

            function openMenu() {
                btn.setAttribute('aria-expanded','true');
                menu.setAttribute('aria-hidden','false');
            }
            function closeMenu() {
                btn.setAttribute('aria-expanded','false');
                menu.setAttribute('aria-hidden','true');
            }
            function toggleMenu() {
                if (menu.getAttribute('aria-hidden') === 'true') openMenu(); else closeMenu();
            }

            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleMenu();
            });
            document.addEventListener('click', (e) => {
                if (!menu.contains(e.target) && e.target !== btn) closeMenu();
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeMenu();
                if ((e.key === 'ArrowDown' || e.key === 'ArrowUp') && menu.getAttribute('aria-hidden') === 'true') {
                    openMenu();
                    e.preventDefault();
                }
            });
            menu.addEventListener('focusout', (e) => {
                const newFocus = e.relatedTarget;
                if (!menu.contains(newFocus) && newFocus !== btn) closeMenu();
            });
        })();
    </script>

    <!-- NOVO: Script para exibir imagem ao lado do texto -->
    <script>
        // Mapeamento: ano → {src, alt}
        const IMAGES = {
            '1500': { src: 'assets/images/1500.png', alt: 'Ilustração da chegada de Pedro Álvares Cabral em 1500, com portugueses e indígenas na praia.' },
            '1530': { src: 'assets/images/1530.jpg', alt: 'Mercado de escravos no Recife, com africanos acorrentados sendo vendidos por portugueses.' },
            '1808': { src: 'assets/images/1600.jpg', alt: 'Formação de terreiros de candomblé no Rio de Janeiro após a chegada da corte portuguesa.' },
            '1888': { src: 'assets/images/1888-abolicao.jpg', alt: 'lei aurea' },
            '1930': { src: 'assets/images/1930-samba.jpg', alt: 'Escolas de samba no Rio de Janeiro nos anos 1930, com desfile na Praça XI.' },
            '1960': { src: 'assets/images/1960-capoeira.jpg', alt: 'Roda de capoeira em Salvador, reconhecida como esporte em 1960.' },
            '1988': { src: 'assets/images/1988-constituicao.jpg', alt: 'Constituição de 1988 garantindo direitos culturais e territoriais quilombolas.' },
            '2000': { src: 'assets/images/2000-patrimonio.jpg', alt: 'Registro do Samba de Roda do Recôncavo como patrimônio imaterial em 2005.' },
            '2010': { src: 'assets/images/2010-consciencia-negra.jpg', alt: 'Manifestação no Dia da Consciência Negra, instituído nacionalmente em 2011.' },
            '2020': { src: 'assets/images/2020-ativismo-digital.jpg', alt: 'Ativistas afro-brasileiros usando redes sociais para preservar cultura.' },
            '2030': { src: 'assets/images/2030-futuro.jpg', alt: 'Projeção de políticas de reparação e preservação cultural afro-brasileira.' }
        };

        // Atualiza painel (chamado pelo main.js)
        window.updateTimelinePanel = function(year, title, desc) {
            const panelTitle = document.getElementById('timeline-title');
            const panelDesc = document.getElementById('timeline-desc');
            const imgEl = document.getElementById('timeline-image');

            panelTitle.textContent = `${year} — ${title}`;
            panelDesc.textContent = desc;

            const imgData = IMAGES[year] || null;
            if (imgData) {
                imgEl.src = imgData.src;
                imgEl.alt = imgData.alt;
                imgEl.style.display = 'block';
            } else {
                imgEl.style.display = 'none';
            }
        };

        // Fallback: se main.js não carregar, ainda funciona
        document.querySelectorAll('.timeline-item').forEach(item => {
            item.addEventListener('click', () => {
                const year = item.getAttribute('data-year');
                const title = item.getAttribute('data-title') || year;
                const desc = window.TIMELINE_DATA?.[year] || 'Descrição não disponível.';
                window.updateTimelinePanel?.(year, title, desc);
            });
        });
    </script>
</body>
</html>